<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Login Cliente</title>
  <style>
    body{font-family:system-ui,Arial;margin:0;background:#0b1220;color:#e8f0ff}
    .wrap{max-width:420px;margin:60px auto;padding:0 16px}
    .card{border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.04);border-radius:18px;padding:16px}
    input, button {
  width: 100%;
  padding: 12px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.15);
  background: rgba(255,255,255,.04);
  color: #e8f0ff;
  
  /* ESTA ES LA LÍNEA QUE TE FALTA */
  box-sizing: border-box; 
}
    button{cursor:pointer;font-weight:900;margin-top:10px}
    .muted{color:#93a4bd;font-size:13px}
    .msg{margin-top:10px;font-size:13px}
  </style>
</head>
<body>
  <div class="wrap">
    <h2>Acceso Cliente</h2>
    <div class="card">
      <div class="muted">Entra con tu correo y contraseña.</div><br/>
      <input id="email" type="email" placeholder="Correo" autocomplete="email"/>
      <br/><br/>
      <input id="pass" type="password" placeholder="Contraseña" autocomplete="current-password"/>
      <button id="btn">Entrar</button>
      <div id="msg" class="msg"></div>
      <div class="muted" style="margin-top:10px">
        ¿No tienes cuenta?, llevar a mostrador un correo y una contraseña para poder realizar su registro, Gracias!!
      </div>
    </div>
  </div>

<script>
const msg = document.querySelector("#msg");
document.querySelector("#btn").addEventListener("click", async ()=>{
  msg.textContent = "Entrando…";

  const payload = {
    email: document.querySelector("#email").value.trim(),
    password: document.querySelector("#pass").value
  };

  try{
    const r = await fetch("/api/client_login.php",{
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body: JSON.stringify(payload)
    });
    const data = await r.json();
    if(!data.ok) throw new Error(data.error || "No se pudo iniciar sesión");

    msg.textContent = "✅ Bienvenido " + (data.cliente?.nombre || "");
    setTimeout(()=> location.href = "tienda.html", 500);

  }catch(e){
    msg.textContent = "❌ " + e.message;
  }
});
</script>
</body>
</html>